@use "../../Shared/css/template/dtm/utils/scope";
@use "../../Shared/css/template/dtm/utils/arp";
@use "../../Shared/css/template/dtm/components/button";
@use "../components/toast";
@use "../components/close";
@use "../models/colors";
@use "../models/fonts";
@use "ui-header" as header;

$min-layout: 1500px;
$max-layout: 1200px;
$maxLayout: 1200px;

html {
    scroll-behavior: smooth;
}

body {
    @supports (display: flex) {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }
}

@include scope.for-template {
    background: white;
    
    @include fonts.second(18px, 1.4) {
        font-weight: 400;

        @media all and (max-width: 500px) {
            font-size: 16px;
        }
    };
}

p {
    line-height: 1.45;
    margin: 1em 0;

    &:first-child {
        margin-top: 0;
    }

    &:last-child {
        margin-bottom: 0;
    }
}

h2 {
    @include fonts.first(3.4em, 1);
    color: colors.get(second);
}

h3 {
    @include fonts.first(2.8em, 1);
    color: colors.get(second);
}

ul, ol {
    margin-left: 1.5em;
}

img {
    display: block;
    max-width: 100%;
    width: auto;
}

iframe,
picture {
    display: block;
}

figure {
    margin: 0;
}

@include arp.init;
@include arp.defer;

@include header.nav;

@include scope.for-desktop {
    .nav {
        &__group {
            min-width: #{$min-layout};
        }
    
        &__list {
            max-width: #{$max-layout};
            margin: auto;
        }
    }
}

.view {
    background: white;

    &__anchor {
        position: absolute;
        top: -65px;
    }

    &__in {
        max-width:#{$max-layout};
        margin: auto;
        padding: 3em 1em;
    }

    &--header {
        z-index: 2;
        background: linear-gradient(#eeeeee, white, #eeeeee);
    }

    &--footer {
        flex: 1 1 auto;
        @include fonts.second(1.4rem, 1.45);
        text-align: center;
        color: colors.get(_white);
        background: colors.get(second);

        form {
            display: none;
        }
    }

    &__disclaimer {
        padding: 1em;
        border: 1px solid #ccc;
        border-radius: 0.25em;
        font-size: 1.5rem;
        max-width: 52em;
        margin: auto;

        p:last-of-type {
            margin-bottom: 0;
        }
    }
}

@include scope.for-desktop {
    .view {
        min-width: #{$min-layout};
    }
}

.dtm {
    @include scope.for-mobile {
        .view {
            &--footer {
                .c-list--nav {
                    background: white;
                    color: black;
                    display: block;
                    border-radius: 0.25em;
                    overflow: hidden;
                    padding: 0;
                    text-align: left;

                    li {
                        padding: 0;
                        border-bottom: 1px solid;
                        border-right: none;
                        border-color: #ccc;
                        display: block;
                    }

                    a {
                        padding: 1em;
                        position: relative;
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        transition: background .3s ease-in-out;
                        text-decoration: none;
    
                        &::after {
                            content: "\e919";
                            font-family: 'Icomoon';
                            display: block;
                        }
    
                        &:hover,
                        &:focus {
                            background: #ededed;
                        }
                    }
                }
            }
        }
    }
}

@include scope.for-template {
    @include button.model {
        & {
            border-radius: .25em;
            padding: .75em;
            overflow: hidden;
            @include fonts.first(1.7em, .9);
        }

        &:hover,
        &:focus {
            text-decoration: none;
        }

        &::before {
            background: linear-gradient(#1c71a1, #004275);
        }

        &::after {
            background: linear-gradient(#004275, #1c71a1);
        }

        &--order {
            &::before {
                background: linear-gradient(#e02121, #ab192d);
            }

            &::after {
                background: linear-gradient(#ab192d, #e02121);
            }
        }
    };
};

.copy {
    p ~ h3 {
        margin-top: 2em;
    }

    h3 {
        color: colors.get(first);
        @include fonts.second(1.4em, 1.3) {
            text-transform: capitalize;
            font-weight: 600;
        };
    }

    &__cards {
        display: block;
        margin: 0;
    }

    .button {
        font-size: 3rem;
    }
}

@include scope.for-mobile {
    .copy {
        font-size: 4vmin;

        h2 {
            font-size: 2.5em;
        }

        .button {
            font-size: 2.25rem;
        }
    }
}

.offer {
    display: inline-block;
    font-size: 1em;
    line-height: 1;
    font-weight: 600;
    color: colors.get(third);
    position: relative;

    &__txt {
        text-transform: capitalize;
        font-size: 2.4em;
    }

    &__price {
        font-weight: 900;
        color: colors.get(first);
        font-size: 4em;
        display: flex;
        align-items: flex-start;
        margin-top: -.15em;
    }

    &__follow {
        text-align: left;
        position: relative;
        top: .2em;
        left: .1em;
    }

    &__disclaimer {
        line-height: 1;
        text-transform: lowercase;
        text-align: left;
        display: block;
        font-size: .25em;
    }

    &__amt {
        font-size: 2em;
    }

    &__currency,
    &__cent {
        font-size: inherit;
    }

    &__currency {
        line-height: 1.4;
    }

    &__cent {
        line-height: 1;
    }
}

@include scope.for-template {
    .fancybox-slide {
        h1 {
            font-size: 1.5em;
        }

        #policyContent,
        .policy-body {
            max-width: 1100px;
        }
    }
}

@include close.model(".toast");

.toast {
    @include toast.model;

    &--hidden {
        @include toast.hidden;

        .toast__close {
            &::before {
                transition-delay: .35s;
            }

            &::after {
                transition-delay: .7s;
            }
        }
    }

    &--alert {
        position: fixed;
        z-index: 5;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition-delay: 1s;
    }

    &__text {
        margin-right: 1em;
    }

    &__close {
        font-size: .45em;

        &::before {
            transition-delay: 1.35s;
        }

        &::after {
            transition-delay: 1.7s;
        }
    }
}

@include scope.for-desktop {
    .toast {
        &--alert {
            left: 1.5em;
            bottom: 1.5em;
        }
    }
}

@include scope.for-mobile {
    .toast {
        &--alert {
            right: 0;
        }
    }
}